diff --git a/CMakeLists.txt b/CMakeLists.txt
index fc252f8a2..d940343da 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -278,7 +278,7 @@ if(SWIFTSHADER_BUILD_CPPDAP)
 endif()
 
 if(${REACTOR_BACKEND} STREQUAL "LLVM-Submodule")
-    InitSubmodule(llvm-submodule ${THIRD_PARTY_DIR}/llvm-project)
+    #InitSubmodule(llvm-submodule ${THIRD_PARTY_DIR}/llvm-project)
 endif()
 
 ###########################################################
@@ -661,8 +661,8 @@ endif()
 ###########################################################
 # LLVM
 ###########################################################
-add_subdirectory(${THIRD_PARTY_DIR}/llvm-${SWIFTSHADER_LLVM_VERSION} EXCLUDE_FROM_ALL)
-set_target_properties(llvm PROPERTIES FOLDER "third_party")
+#add_subdirectory(${THIRD_PARTY_DIR}/llvm-${SWIFTSHADER_LLVM_VERSION} EXCLUDE_FROM_ALL)
+#set_target_properties(llvm PROPERTIES FOLDER "third_party")
 
 ###########################################################
 # LLVM-Submodule
@@ -670,7 +670,13 @@ set_target_properties(llvm PROPERTIES FOLDER "third_party")
 if(${REACTOR_BACKEND} STREQUAL "LLVM-Submodule")
     set(LLVM_INCLUDE_TESTS FALSE)
     set(LLVM_ENABLE_RTTI TRUE)
-    add_subdirectory(${THIRD_PARTY_DIR}/llvm-project/llvm EXCLUDE_FROM_ALL)
+    find_package(LLVM CONFIG REQUIRED)
+    list(APPEND CMAKE_MODULE_PATH "${LLVM_CMAKE_DIR}")
+    include(HandleLLVMOptions)
+    add_definitions(${LLVM_DEFINITIONS})
+    set(LLVM_INCLUDE_TESTS FALSE)
+    set(LLVM_ENABLE_RTTI TRUE)
+    #add_subdirectory(${THIRD_PARTY_DIR}/llvm-project/llvm EXCLUDE_FROM_ALL)
     if(ARCH STREQUAL "aarch64")
         llvm_map_components_to_libnames(llvm_libs orcjit aarch64asmparser aarch64codegen)
     elseif(ARCH STREQUAL "arm")
@@ -688,17 +694,18 @@ endif()
 ###########################################################
 # Subzero
 ###########################################################
-add_subdirectory(${THIRD_PARTY_DIR}/llvm-subzero EXCLUDE_FROM_ALL)
-add_subdirectory(${THIRD_PARTY_DIR}/subzero EXCLUDE_FROM_ALL)
-set_target_properties(llvm-subzero PROPERTIES FOLDER "third_party")
-set_target_properties(subzero PROPERTIES FOLDER "third_party")
+#add_subdirectory(${THIRD_PARTY_DIR}/llvm-subzero EXCLUDE_FROM_ALL)
+#add_subdirectory(${THIRD_PARTY_DIR}/subzero EXCLUDE_FROM_ALL)
+#set_target_properties(llvm-subzero PROPERTIES FOLDER "third_party")
+#set_target_properties(subzero PROPERTIES FOLDER "third_party")
 
 ###########################################################
 # marl
 ###########################################################
-set(MARL_THIRD_PARTY_DIR ${THIRD_PARTY_DIR})
-add_subdirectory(${THIRD_PARTY_DIR}/marl)
-set_target_properties(marl PROPERTIES FOLDER "third_party")
+find_package(marl CONFIG REQUIRED)
+#set(MARL_THIRD_PARTY_DIR ${THIRD_PARTY_DIR})
+#add_subdirectory(${THIRD_PARTY_DIR}/marl)
+#set_target_properties(marl PROPERTIES FOLDER "third_party")
 
 if(MARL_THREAD_SAFETY_ANALYSIS_SUPPORTED)
     list(APPEND SWIFTSHADER_COMPILE_OPTIONS "-Wthread-safety")
@@ -787,6 +794,9 @@ else()
     message(FATAL_ERROR "REACTOR_BACKEND must be 'LLVM', 'LLVM-Submodule' or 'Subzero'")
 endif()
 
+find_package(SPIRV-Tools CONFIG REQUIRED)
+find_package(SPIRV-Tools-opt CONFIG REQUIRED)
+add_library(SPIRV-Tools ALIAS SPIRV-Tools-static)
 if (NOT TARGET SPIRV-Tools)
     # This variable is also used by SPIRV-Tools to locate SPIRV-Headers
     set(SPIRV-Headers_SOURCE_DIR "${THIRD_PARTY_DIR}/SPIRV-Headers")
diff --git a/src/Pipeline/CMakeLists.txt b/src/Pipeline/CMakeLists.txt
index c440a8c02..aedeafa29 100644
--- a/src/Pipeline/CMakeLists.txt
+++ b/src/Pipeline/CMakeLists.txt
@@ -71,11 +71,11 @@ if (NOT TARGET SPIRV-Tools)
     message(FATAL_ERROR "Missing required target: SPIRV-Tools")
 endif()
 
-set_target_properties(core_tables PROPERTIES FOLDER "SPIRV-Tools build")
-set_target_properties(enum_string_mapping PROPERTIES FOLDER "SPIRV-Tools build")
-set_target_properties(extinst_tables PROPERTIES FOLDER "SPIRV-Tools build")
-set_target_properties(spirv-tools-pkg-config PROPERTIES FOLDER "SPIRV-Tools build")
-set_target_properties(spirv-tools-shared-pkg-config PROPERTIES FOLDER "SPIRV-Tools build")
+#set_target_properties(core_tables PROPERTIES FOLDER "SPIRV-Tools build")
+#set_target_properties(enum_string_mapping PROPERTIES FOLDER "SPIRV-Tools build")
+#set_target_properties(extinst_tables PROPERTIES FOLDER "SPIRV-Tools build")
+#set_target_properties(spirv-tools-pkg-config PROPERTIES FOLDER "SPIRV-Tools build")
+#set_target_properties(spirv-tools-shared-pkg-config PROPERTIES FOLDER "SPIRV-Tools build")
 
 set_target_properties(vk_pipeline PROPERTIES
     POSITION_INDEPENDENT_CODE 1
diff --git a/src/Vulkan/CMakeLists.txt b/src/Vulkan/CMakeLists.txt
index bd05b0fc8..8f39a1c4e 100644
--- a/src/Vulkan/CMakeLists.txt
+++ b/src/Vulkan/CMakeLists.txt
@@ -258,3 +258,6 @@ configure_file(
     "vk_swiftshader_icd.json.tmpl"
     "${CMAKE_BINARY_DIR}/${CMAKE_SYSTEM_NAME}/vk_swiftshader_icd.json"
 )
+
+install(FILES "${CMAKE_BINARY_DIR}/${CMAKE_SYSTEM_NAME}/vk_swiftshader_icd.json" TYPE BIN)
+install(TARGETS vk_swiftshader)
